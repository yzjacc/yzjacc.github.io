---
layout: post
title: "「网络」网络 基础理论篇"
subtitle: " From Yuzj"
author: "Yuzj"
header-img: "img/post-bg-web.jpg"
header-mask: 0.3
catalog: true
tags:

- 网络
---



### 互联网起源

1969 年

加利福尼亚大学

洛杉矶分校

斯坦福大学

加利福尼亚大学

犹他州大学

互联网 -Internet（音译：因特网，英特网），网际网路

1989 年

欧洲粒子物理硏究所提出一一协议（格式）WWW (World Wide Web

1991 年

正式开始普及互联网

### 局域网

计算机通过连接网口进行数据连接

##### 接一个网口

![网络应用](https://pg12138.oss-cn-beijing.aliyuncs.com/img/in-post/2019-11-13/网络应用.jpg)

##### 接两个网口

![网络应用1](https://pg12138.oss-cn-beijing.aliyuncs.com/img/in-post/2019-11-13/网络应用1.jpg)

##### 遇到多计算机后

![网络应用3](https://pg12138.oss-cn-beijing.aliyuncs.com/img/in-post/2019-11-13/网络应用3.jpg)

##### 处理方法 通过 路由器模式 来处理 可以达到互相联通



![网络应用4](https://pg12138.oss-cn-beijing.aliyuncs.com/img/in-post/2019-11-13/网络应用4.jpg)

冯诺依曼式计算机**——**冯诺依曼(计算机之⽗父) 

运算器**: CPU, GPU**(中央处理器，逻辑整数运算)(显卡，浮点数运算) 

存储器:
 			内存(断电数据清空**,** 读写速度快)， 

​			 硬盘(辅存):(数据可以持久化，读写速度，相对较慢) 

控制器:
  		   主板上的⼀些器件

输入设备:
  		   键盘，⿏标，⻨克风，⽹口

输出设备:
 		   显示器，⽿机，⽹口



##### 局域网内的机器可以连接 但是非局域网不能传输信息

![网络应用5](https://pg12138.oss-cn-beijing.aliyuncs.com/img/in-post/2019-11-13/网络应用5.jpg)

### IP地址与公网

下图情况如图一个楼道的两家住户 通过楼道中的主路由连接 但是目前还是没有办法传输数据 因为IP地址原因

![网络应用6](https://pg12138.oss-cn-beijing.aliyuncs.com/img/in-post/2019-11-13/网络应用6.jpg)

**IP**地址 

**IP**地址的格式: 

**IP**地址分为四个段:**xxx.xxx.xxx.xxx**，每个段**0~255**，每个段，都是由**8**个**0**、**1**组成的。

**IP**地址的分类: 

一个**IP**地址分为两个部分:网络**ID**（标识哪个第几个网络），主机**ID** （标识哪个第几个网络的第几个机器）

A B C区别是根据网络内容纳的计算机数量分配

**A**类:**0.0.0.0 ~ 127.255.255.255**(⼀个⽹络能有**1600+**万台)

**B**类:**128.0.0.0 ~ 191.255.255.255**(**172.16.0.0 ~ 172.31.255.255**    私有网络地址) 

**C**类:**192.0.0.0 ~ 223.255.255.255**(**192.168.xxx.xxx**    私有网络地址) 

**D**类:(多播地址) 

**E**类: 



**运营商给路由器分配IP地址**

路由器给计算机继续分配ip地址

不在同一网络下IP地址可以相同 在相同网络下不可以

所以两个用户不能直接通过IP地址发送信息

![网络应用7](https://pg12138.oss-cn-beijing.aliyuncs.com/img/in-post/2019-11-13/网络应用7.jpg)

很多年前 设备较少 一户就有一个公网IP地址 就可以直接通过IP访问

![网络应用8](https://pg12138.oss-cn-beijing.aliyuncs.com/img/in-post/2019-11-13/网络应用8.jpg)

那么发信息的过程

手机通过路由器连接到腾讯的服务器（ 腾讯有公网地址 ）

腾讯通过路由器连接到对方手机进行信息传输

![网络应用9](https://pg12138.oss-cn-beijing.aliyuncs.com/img/in-post/2019-11-13/网络应用9.jpg)

### 域名与DNS解析

**www.baidu.com->**域名 

问:能通过域名直接访问到⼀台机器吗?

答:不可以的。计算机只识别IP地址

⽤域名和**IP**形成对应关系。 

首先，计算机是不知道域名对应的**IP**的。 问路由器，如果路由器认识这个域名，就返回一个**IP**，然后计算机访问这个**IP**。 如果路由器不认识，他就问上⼀层路由器。 如果问到了城市这个级别的路由器的时候（**DNS**服务器）。 如果**DNS**服务器不认识这个域名，继续向上级**DNS**服务器查找。如果找到了，按原路返回，并且有可能每层路由器都会对IP进行缓存，缩短下次访问的时长，提高性能。

互联⽹建立的时候，**13**台总的**DNS**服务器。 

问：当向浏览器的地址栏中输⼊一个**url**按回车之后，⽹络中都会发⽣什么? 比如输⼊的是**123.xyz** 

看浏览器的缓存。

本机**host**。 **C:windows/system32/drivers/etc/host **

**127.0.0.1 localhost 0.0.0.0** 自己当台机器 | 不知道IP地址 默认转移到本机IP

家里路由器 

上级路由、城市的**LDNS**服务器 

继续向上级的**DNS**服务器找。 **gDNS**服务器。 

### 五层网络模型

两个计算机传输方式底层通过 高低电平传输数据

![网络应用10](https://pg12138.oss-cn-beijing.aliyuncs.com/img/in-post/2019-11-13/网络应用11.jpg)

TCP/IP**协议(对⽅的**IP**，⾃己的**IP**，对方的端口 <-- **HTTP**协议(请求头) <-- **发送hello  浏览器一层协议套着一层协议 自上而下

服务器一层协议解析一层协议 自下而上

![网络应用10](https://pg12138.oss-cn-beijing.aliyuncs.com/img/in-post/2019-11-13/网络应用12.jpg)

### HTTP协议

请求方式除了**GET/POST——还有HEAD,PUT,DELETE** 

##### 请求:**Request** 请求头

请求⽅式 **url** 协议版本 

**POST /path?a=1&b=2 HTTP1.1  **

**Host**:**www.baidu.com **

**Connection: keep-alive **

**User-Agent**:

**Cookie** :

数据体:传⽂文件的⼀些信息。 

##### 响应:**Response** 响应头

协议版本 状态码 **message**

属性:值 

数据体

### **Get**与**Post**请求⽅方式的区别 

**1.** 是基于什么前提的?

如果什么前提都没有（不使用任何规范，只考虑语法和理论上的 **HTTP**协议。) 

**GET**和**POST**⼏乎没有什么区别，只有名字不⼀样。

**2.** 如果是基于**RFC**规范的。 RFC   一个组织审核协议 进行推广规范 

(**1**)理论上的RFC(**Specification**):**GET**和**POST**具有相同语法的，但是有不同的语义。 **get**是用来获取数据的，**post**是⽤来发送数据的，其他⽅面没有区别。 

(**2**)实现上的RFC(**Implementation**):各种浏览器，就是这个规范的实现者。 

常⻅的那些不同: 

**1**)**GET**的数据在**URL**是可见的。**POST**请求不显示在**URL**中。 （URL不一定展示在地址栏中）

**2**)**GET**对⻓度是有限制的，**POST**⻓度是无限的。 

**3**)**GET**请求的数据可以收藏为书签，**post**请求到的数据不可收藏为书签。 

**4**)**GET**请求后，按后退按钮、刷新按钮无影响，**post**数据会被重新提交。 

**5**)**GET**编码类型:**application/x-www-form-url**，**post**的编码类型:有很多种。 

1.**encodeapplication/x-www-form-urlencoded**    

2.**multipart/form-data** 

**6**)**GET**历史参数会被保留在浏览器里里，**post**不会保存在浏览器中的。 

**7**)**GET**只允许**ASCII**， **post**没有编码限制，允许发⼆进制的。 

**8**)**GET**与**POST**相⽐，**GET**安全性较差，因为所发的数据是**URL**的一部分。 

### **Cookie**与**Session** 

##### Cookie

**1.**如果我们用**JS**的变量来存数据，那么在⻚面关闭的时候，数据就消失了。 

**2.**保持登录状态是怎么做到的呢? 

按照正常的**HTTP**协议来说，是做不到的。 因为**HTTP**协议，上下⽂无关协议（ 两个网页没有任何关系 ）。 

**3.** 所以说前端⻚面上，有可以持久化存储数据的东西。⼀旦登录成功，我就记载在这个⾥面 -- Cookie。 

**Cookie**是有限制的。 **Cookie**是存在浏览器里的，不是存在某个⻚面上的。是可以⻓期存储的。**Cookie**即使是保存在浏览器里里，也是存放在不同的域名下的。 不能跨域

##### 自动登录过程

1. 初始状态:没有登录

2. 访问百度的登录，输⼊用户名，密码。

3. 如果用户名和密码是正确的。百度的后端会向这个域名下，设置一个Cookie。写入用户的基本信息(加密的)。

4. 以后每⼀次向百度发送请求，浏览器都会自动带上这些Cookie。

5. 服务端(后端)看到了带有ID的cookie，就可以解析这个加密的ID，来获取到这个用户本身的ID。

6. 如果能获取到本身的ID，那么就证明这个⽤户已经登录过了。所以后端可以继续保留用户的信息。

缺点:如果某个坏⼈，复制了我浏览器里的**cookie**，他就可以在他的电脑上登录我的账号了。 

利用Cookie进行**XSS**注⼊攻击。 

##### Session

信息储存在服务端

![屏幕快照 2019-11-13 下午10.23.12](https://pg12138.oss-cn-beijing.aliyuncs.com/img/in-post/2019-11-13/屏幕快照 2019-11-13 下午10.23.12.png)

数据存在**Session**上也有缺点 如果⽤户量非常大，上亿的用户。 在用户量很大的时候，服务器端很耗资源的。 

因为后端可能不⽌一台服务器，⽤户的登录信息，一般只存在⼀台服务器上。 因为用户的登录操作，在哪台机器上执行的，就一般存在哪台机器上。 需要通过反向代理。(轮询无法用session，**IP**哈希) 

### 页面的正确打开方式

**B/S**结构 浏览器/服务端 **C/S**结构 客户端/服务端

**Client/Server——Client**只负责内容的展示，**Server**负责提供内容。 

**Browser/Server——Browser**只负责内容的展示，**Server**负责提供内容。

**www.baidu.com** 

**index.html** ⻚面的本质是什么? 

⻚面的本质就是⼀个字符串。带有**HTML**格式的字符串。 

浏览器 向服务器 请求一个⻚面的本质是什么? 

(**1**)**www.baidu.com** 

(**2**)服务器接收到这个请求后，服务器想要把这个⻚面的内容(**HTML**格式的字符串)返回 给浏览器器。

(**3**)⻚面的字符串存在哪里呢?

存在**HTML**⽂件里。例如:**index.html** 

(**4**)服务器端要读取⽂件。

(**5**)将读取出来的内容返回给浏览器。 

最后返回的是⼀个字符串，这个字符串的来源可能是文件，可能是缓存，可能来自于数据库。

服务器:严格的说，服务器是⼀台计算机，这台计算机，只提供服务。(不是⽤户用的) 但是，我们常说的这个服务器，指的是服务容器，不是服务器。

服务容器:是一个程序。程序可以监听一个端⼝。读取文件，并且返回。

如果我们想通过访问服务器(服务容器)的方式，来访问我们自⼰写的⻚面。
我们就得装一个服务容器器的程序。